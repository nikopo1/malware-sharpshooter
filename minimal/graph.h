#ifndef _GRAPH_H_
#define _GRAPH_H_

#include "vertex.h"

#include <vector>
#include <iostream>

#define VERTEX_NONE	-1

class Graph {
	std::vector< Vertex > vertexs;
	std::vector< std::pair<Vertex,Vertex> > edges;
public:
	/* constructors and destructors */
	Graph();
	Graph(syscall_t* trace, int length);
	virtual ~Graph();
	/* general usage methods */
	void addVertex(const Vertex &node);
	bool hasVertex(const Vertex &node);

	void addEdge(const Vertex &from, const Vertex &to);
	void addEdge(const std::pair<Vertex, Vertex> &edge);
	bool hasEdge(const Vertex &from, const Vertex &to);
	bool hasEdge(const std::pair<Vertex,Vertex> &edge);

	std::vector< Vertex > getVertexs();
	std::vector< std::pair<Vertex,Vertex> > getEdges();

	friend std::ostream& operator<<(std::ostream& stream, const Graph& graph);
	
	/* algorithm methods */
	void generateVertexes(syscall_t* trace, int length);
	int generateDepEdges(void);
	std::vector<int> maximalCommonEdgeSet(Graph& other);

};
#endif
