#include <stdlib.h>
#include <stdio.h>
#include <iostream>

#include "graphbuilder.h"	/* graph representation */
#include "malspec.h"		/* malspec algorithm implementation */
#include "util.h"

int main(int argc, char* argv[])
{
	Graph *graph1, *graph2;
	std::vector<Graph*> min_contrast;
	
	GraphBuilder gb(argv[1], false);
	graph1 = gb.build_graph(argv[2]);
	graph2 = gb.build_graph(argv[3]);
	std::cout<<std::endl;

	std::cout<<*graph1<<std::endl;
	std::cout<<*graph2<<std::endl;
	std::cout<<std::endl;

	std::cout<<"Minimal contrast subgraph set"<<std::endl;

	min_contrast = minimal_contrast_subgraph_set(graph1, graph2);
	for(unsigned int i = 0; i < min_contrast.size(); i++)
		std::cout<<"Diff "<<i<<std::endl<<*min_contrast[i]<<std::endl;

	delete graph1;
	delete graph2;
	for(unsigned int i = 0; i < min_contrast.size(); i++)
		delete min_contrast[i];
	return 0;
}
